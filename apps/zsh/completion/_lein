#compdef lein
#autoload

local -a _1st_arguments
_1st_arguments=(
    "clean:remove compiled files and dependencies from project"
    "compile:ahead-of-time compile the project"
    "deps:download and install all dependencies"
    "help:display a list of tasks or help for a given task"
    "install:install the project and its dependencies in your local repository"
    "jar:create a jar file containing the compiled .class files"
    "new:create a new project skeleton"
    "pom:write a pom.xml file to disk for maven interop"
    "test:run the project's tests"
    "uberjar:Create a jar including the contents of each of deps"
    "upgrade:upgrade leiningen to the latest stable release"
    "version:print leiningen's version"
)

local expl
local -a pkgs installed_pkgs

_arguments \
  '*:: :->subcmds' && return 0

if (( CURRENT == 1 )); then
    _describe -t commands 'leiningen subcommands' _1st_arguments
    return
fi
